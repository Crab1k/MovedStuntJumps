#include "../../inc/types.h"
#include "vectors.h"

#include <list>

typedef struct
{
	Vector3 start;
	Vector3 end;
	float width;
} RotatableCuboid;

struct StuntJump {
	RotatableCuboid jump;
	RotatableCuboid landing;
};

std::list<StuntJump> stunts = {};

// Shims so that we can just paste the (processed) decompiled game script into this and extract the jump data

RotatableCuboid processAxisAlignedBB(float x1, float y1, float z1, float x2, float y2, float z2)
{
	float centreX = (x1 + x2) / 2.f;
	float width = abs(x1 - x2);

	return {
		v3(centreX, min(y1, y2), min(z1, z2)),
		v3(centreX, max(y1, y2), max(z1, z2)),
		width
	};
}

namespace JUMPS_MISC { // So we don't conflict with the ScriptHook natives, but it's easy to find and replace 'MISC::' with 'JUMPS_MISC::'
	void ADD_STUNT_JUMP(float x1, float y1, float z1, float x2, float y2, float z2, float x3, float y3, float z3, float x4, float y4, float z4, float camX, float camY, float camZ, int unk1, int unk2 = 0, int unk3 = 0)
	{
		RotatableCuboid jump = processAxisAlignedBB(x1, y1, z1, x2, y2, z2);
		RotatableCuboid landing = processAxisAlignedBB(x3, y3, z3, x4, y4, z4);

		stunts.push_back({
			jump,
			landing
			});
	}

	void ADD_STUNT_JUMP_ANGLED(float x1, float y1, float z1, float x2, float y2, float z2, float radius1, float x3, float y3, float z3, float x4, float y4, float z4, float radius2, float camX, float camY, float camZ, int unk1, int unk2, int unk3 = 0)
	{
		RotatableCuboid jump = {
			v3(x1, y1, z1),
			v3(x2, y2, z2),
			radius1
		};

		RotatableCuboid landing = {
			v3(x3, y3, z3),
			v3(x4, y4, z4),
			radius2
		};

		stunts.push_back({
			jump,
			landing
			});
	}
}

void initializeJumps() {
	stunts.clear();

	// 10
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(153.6544, 1661.692, 227.3657, 165.3773, 1674.75, 235.2305, 6.f, 205.5174, 2114.674, 54, 383.3433, 2330.24, 123, 100.f, 247.59, 1919.89, 254.25, 150, 0); // lamar down
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-764.2935, 945.8024, 228.5571, -723.0186, 930.0048, 240, 6.f, -857.0611, 441.225, 82, -852.3926, 315.6501, 90, 26.f, -815.92, 860.92, 268.11, 150, 0); // big score
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-955.576, -181.6195, 38.56944, -962.9437, -180.3027, 48.76974, 6, -1052.138, 10.01165, 50, -991.4943, -123.7049, 35.35284, 50, -976.843, -178.2526, 48.65004, 150, 0); // golf
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-91.8186, 465.9977, 132.6047, -103.1841, 470.3952, 143.0595, 6.f, -108.2707, 432.8217, 109.7892, -127.0861, 395.8102, 116.3087, 26.f, -116.4532, 464.0861, 148.5024, 150, 0); // franklin house
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(123.1099, 602.2518, 206.8295, 129.4429, 604.0329, 203.0355, 6.f, 130.4396, 246.0203, 108.1499, 153.364, 306.8955, 130, 80.f, 178.3878, 265.1066, 143.2553, 150, 0); // vinewood ramp
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(2001.78, 3895.777, 33.85062, 1997.11, 3906.627, 40.49184, 6.f, 2341.978, 4102.864, 26.0314, 2508.911, 4197.751, 44.2597, 80.f, 2115.721, 4150.492, 70.10548, 150, 0); // sandy shores lake
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1265.194, -380.3223, 58.71485, -1263.002, -373.3664, 65.81985, 2.5, -1451.292, -381.7545, 48.42518, -1402.532, -342.3726, 33.79811, 50.f, -1418.419, -387.0577, 50.1657, 150, 0); // parking lot to road
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1306.279, -188.8446, 60.90955, -1300.866, -185.6255, 65.49306, 2.5, -1310.206, -82.39357, 54.39466, -1308.385, -115.6674, 46.46138, 20.f, -1315.043, -162.7263, 68.19829, 150, 0); // parking lot to tennis
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1813.373, -493.9336, 37.97896, -1802.622, -504.5941, 52.55691, 8.f, -2010.466, -727.9706, -2.617887, -1903.905, -615.4824, 16.9653, 100.f, -1906.799, -535.1393, 55.43876, 150, 0); // reuniting to beach
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1173.753, -704.4168, 39.93867, -1178.371, -708.7709, 45.88336, 2.5, -1097.246, -813.9249, 28.95643, -1077.078, -839.4893, 33.1883, 12.f, -1103.343, -772.6826, 45.22516, 150, 0); // parking lot to roof

	// 20
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-470.9938, -792.7442, 44.18004, -477.9633, -792.445, 50.22325, 2.5, -456.3522, -876.0785, 27.28179, -456.1161, -906.9981, 33.19931, 32.f, -438.9023, -831.4876, 60.37182, 150, 0); // parking lot to construction
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-919.4862, -689.4836, 23.57985, -899.9647, -684.1919, 29.90412, 6.f, -797.0687, -516.4671, 22.82342, -535.23, -514.512, 38.04655, 100.f, -810.8554, -582.0086, 100.4236, 150, 0); // scate park building bounce
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-735.2393, 60.09915, 51.15218, -757.9253, 58.252, 57.50348, 6.f, -829.968, 272.9052, 83.48831, -878.4341, 449.7864, 95.08292, 40.f, -838.7611, 198.1292, 119.4221, 150, 0); // complications
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-134.7988, -1159.302, 29.44924, -129.5133, -1163.18, 33.76349, 2.5, -75.79178, -1074.484, 24.04719, -56.06096, -1021.816, 30.42671, 40.f, -107.5941, -1054.026, 76.61156, 150, 0); // simeon ramp
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-171.7615, -1111.719, 41.14548, -171.9149, -1115.844, 45.0302, 6.f, -250.4379, -1128.75, 27.58163, -237.9687, -1093.427, 34.96192, 12.f, -209.2582, -1078.775, 54.72376, 150, 0); // construction to rails
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-174.4086, -493.2686, 33.52219, -171.4248, -486.5182, 37.83498, 6.f, -160.6008, -512.4584, 25.40138, -93.58868, -511.349, 33.535, 60.f, -120.5268, -479.8038, 38.48885, 150, 0); // jsh to highway
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(574.3669, -551.2564, 52.14481, 578.0314, -545.8851, 56.29493, 2.5, 685.4691, -531.2596, 13.64288, 726.9978, -479.5619, 27.99493, 38.f, 643.6041, -513.8895, 33.73771, 150, 0); // highway to canals
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(614.2736, -492.8687, 23.87725, 625.9526, -477.424, 29.1983, 6.f, 452.2101, -498.3999, 34.40218, 523.5299, -505.8443, 39.93863, 40.f, 563.6548, -484.4695, 43.90108, 150, 0); // canals to highway
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(1024.902, -267.0715, 55.48588, 1035.923, -263.5715, 50.44637, 6.f, 1050.176, -337.4198, 64.39467, 1098.54, -388.4409, 73.83176, 35.f, 1061.074, -291.8306, 60.27599, 150, 0); // jsh tunnel
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(1026.974, -1782.31, 35.99641, 1029.9, -1783.51, 41.10778, 2.5, 1003.886, -1798.095, 38.71054, 998.9707, -1852.694, 44.2785, 11.f, 1009.492, -1782.143, 54.58868, 150, 0); // blitz play district ramp

	// 30
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(390.1704, -2190.047, 9.343041, 395.3991, -2199.875, 14.32349, 6.f, 219.9366, -2294.697, 6.277517, 219.2959, -2171.779, 16.45208, 10.f, 219.2959, -2171.779, 17.45208, 150, 0); // curve road to rails bridge
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(213.2015, -2533.178, 6.46179, 211.1167, -2529.366, 11.551744, 2.5, 253.6158, -2496.971, 2.892144, 276.8359, -2475.157, 9.96349, 20.f, 259.571, -2482.919, 17.83745, 150, 0); // ramp through grid tower
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(230.7952, -2525.462, 7.011676, 232.1695, -2533.842, 12.28338, 6.f, 55.76989, -2631.802, 22.55035, -143.8301, -2514.83, 51.14371, 45.f, 78.70966, -2502.674, 56.39, 150, 0); // dirt ramp to bridge
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(443.257, -2787.939, 9.72691, 444.6036, -2785.289, 13.69969, 6.f, 378.5851, -2758.083, 9.247163, 354.4264, -2758.244, 19.4725, 13.f, 414.275, -2791.783, 26.17962, 150, 0); // 2 big cisterns
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(595.6685, -2849.372, 7.568468, 589.2807, -2837.878, 13.174, 6.f, 657.6321, -2827.175, 19.3696, 658.251, -2816.652, 24.04251, 10.f, 638.1693, -2857.894, 30.39391, 150, 0); // coal ramp to tower
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(208.4194, -2894.024, 6.045958, 210.6424, -2893.635, 8.838074, 2.5, 157.1424, -2538.709, 3.759407, 153.2251, -2382.033, 17.61055, 50.f, 134.0179, -2596.634, 54.61993, 150, 0); // docks small ramp over bridge
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-196.593, -2725.772, 6.25566, -194.6572, -2719.926, 11.60188, 6.f, -267.1436, -2703.247, 3.896415, -322.9241, -2646.813, 19.8185, 80.f, -255.1095, -2744.47, 39.39349, 150, 0); // docks dirt ramp over water
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-422.301, -2471.066, 6.06555, -425.5337, -2475.918, 9.954501, 5.f, -567.9817, -2363.673, 11.48497, -631.7114, -2309.402, 17.47222, 65.f, -487.4822, -2377.36, 35.59951, 150, 0); // docks sand ramp to parking lot
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1003.511, -2544.558, 36.66973, -997.3018, -2546.545, 40.45671, 2.5, -930.7357, -2546.763, 22.31801, -900.3645, -2493.063, 45.44702, 60.f, -1000.063, -2494.439, 48.2649, 150, 0); // parking lot to airport tower
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1015.574, -2355.8, 14.30405, -1012.417, -2356.956, 18.87526, 6.f, -986.0442, -2273.654, 6.927717, -949.2371, -2236.778, 11.83625, 25.f, -1046.247, -2284.304, 45.18578, 150, 0); // from airport

	// 40
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-824.955, -2000.346, 18.0578, -832.123, -1993.479, 23.10927, 6.f, -839.9622, -2006.487, 26.02153, -858.3203, -2034.271, 33.56259, 50.f, -804.619, -2004.043, 45.06353, 150, 0); // stunt ramp to bridge
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-445.5765, -2112.25, 18.25717, -433.161, -2118.27, 23.84238, 6.f, -251.2918, -2029.911, 46.1875, -397.1328, -1907.246, 71.09412, 130.f, -302.9559, -2126.882, 100.8249, 150, 0); // to maze arena
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-589.2717, -1532.161, 3.122784, -587.6168, -1526.171, 6.213938, 6.f, -1410.555, -1376.9, -2.273568, -1555.1, -1055.408, 11.34686, 250.f, -1125.574, -1571.271, 137.5908, 150, 0); // canals to beach
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-580.1707, -1323.102, 16.91109, -570.483, -1315.416, 22.82756, 6.f, -522.0131, -1367.089, 26.81279, -443.0749, -1420.756, 44.2273, 45.f, -631.8987, -1375.721, 72.22424, 150, 0); // repo
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(1247.722, -941.9644, 73.06434, 1229.069, -921.3716, 82.83996, 8.f, 1674.436, -873.9078, 76.2445, 1815.193, -777.102, 97.36447, 25.f, 1563.912, -1065.724, 174.959, 150, 0); // bureau raid
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-292.3823, -2144.04, 17.33031, -294.455, -2131.179, 26.1832, 6.f, 131.9209, -2068.928, 25.66155, 153.7328, -2175.3, 40.33992, 90.f, -68.03581, -2037.695, 61.87248, 150, 0); // tow to cistern
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-900.482, -143.7169, 40.49795, -897.9238, -149.1155, 44.51355, 6.f, -1191.607, -358.8543, 39.39163, -1257.719, -392.9308, 61.71851, 25.f, -1205.685, -362.076, 55.70838, 150, 0); // small parking lot into parking lot
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(2676.538, -1643.798, 18.06225, 2668.107, -1632.784, 23.64252, 2.5, 2712.463, -1627.92, -0.7804078, 2749.135, -1611.653, 6.20604, 25.f, 2716.019, -1677.502, 44.949, 150, 0); // to letter island
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(2164.882, 2994.698, 49.10681, 2171.614, 2988.986, 53.82855, 8.f, 2168.025, 2925.981, 54.8688, 1954.326, 2955.107, 76.26682, 70.f, 2126.215, 3015.771, 71.81503, 150, 0); // rock to satelite
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(2155.873, 2659.42, 51.30916, 2171.577, 2670.448, 56.78554, 6.f, 2054.852, 2216.671, 86.8847, 2043.825, 2103.335, 114.3021, 75.f, 1955.838, 2354.508, 180.4201, 150, 0); // windmills

	// 50
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(2890.41, 2880.378, 84.46314, 2876.218, 2874.965, 92.85146, 8.f, 2929.391, 2820.374, 37.76799, 2964.295, 2768.184, 43.539, 50.f, 2956.389, 2897.352, 127.812, 150, 0); // quarry
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(2770.179, 1593.121, 29.45999, 2779.257, 1590.503, 33.99221, 2.5, 2797.111, 1648.087, 21.89586, 2796.861, 1636.066, 27.75095, 30.f, 2804.419, 1589.777, 39.84948, 150, 0); // countryside factory
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(137.6848, 6479.85, 32.74307, 130.6275, 6475.293, 36.93121, 6.f, 121.9236, 6519.614, 29.55888, 98.77264, 6544.712, 32.91673, 45.f, 102.0461, 6479.426, 46.4115, 150, 0); // paleto dirt ramp
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(422.528, 5615.415, 765.0552, 422.4636, 5611.838, 770.5464, 2.5, -130.5532, 5529.079, 234.2954, 249.8288, 5568.675, 610.4781, 250.f, 419.8805, 5585.645, 783.5147, 150, 0); // chiliad ramp
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(143.9937, 4404.15, 76.78039, 168.6547, 4401.688, 81.61544, 6.f, 58.26736, 4363.112, 35.64091, 3.131097, 4329.442, 46.54789, 65.f, 150.3201, 4297.24, 114.395, 150, 0); // to letter semi-island
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-777.1951, 4317.243, 145.0788, -763.0546, 4325.039, 151.4911, 6.f, -814.6896, 4475.351, 47.92832, -826.2299, 4540.319, 98.19677, 80.f, -696.916, 4368.384, 172.489, 150, 0); // plus cliff over river
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-1137.778, 4395.308, 18.15628, -1146.869, 4386.08, 26.17526, 6.f, -1189.485, 4417.851, 16.51719, -1209.269, 4469.215, 39.26816, 55.f, -1161.083, 4355.082, 38.80932, 150, 0); // race cliff over river
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-970.6269, 4618.199, 232.6913, -956.2159, 4607.934, 244.5137, 8.f, -992.0232, 4531.614, 152.0359, -1013.96, 4484.787, 166.8851, 40.f, -923.9443, 4558.104, 238.551, 150, 0); // peyote cliff
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-2600.357, 3351.534, 27.4684, -2615.663, 3367.705, 34.41843, 6.f, -2730.11, 3275.628, 30.57919, -2575.042, 3186.145, 35.69625, 70.f, -2549.815, 3317.483, 74.98025, 150, 0); // to military base
	JUMPS_MISC::ADD_STUNT_JUMP_ANGLED(-2180.672, 4452.242, 61.21719, -2191.076, 4448.656, 69.77138, 6.f, -1844.112, 4933.496, -2.676208, -2278.543, 5190.638, 32.06752, 460.f, -2026.09, 4529.109, 91.74815, 150, 0); // to small islands
}